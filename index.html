<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine's Shooting Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: pink;
      position: relative;
    }

    canvas {
      display: block;
      background-color: lightblue;
    }

    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      font-size: 24px;
      color: red;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    }

    .popup button {
      margin-top: 10px;
      padding: 10px;
      border: none;
      background-color: red;
      color: white;
      font-size: 18px;
      cursor: pointer;
      border-radius: 5px;
    }

    .background-message {
      position: absolute;
      top: 60px;
      width: 100%;
      text-align: center;
      font-size: 24px;
      color: red;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div class="background-message">Hit 6 targets for your Valentine's message from Kevani ❤️</div>
  <canvas id="gameCanvas"></canvas>
  <div id="popup" class="popup">
    ❤️ Happy Valentine's Day Britney! ❤️<br>
    <p style="font-size: 18px; color: black;">Hope you enjoy da gift ya anuh the best because we just start talk and nuh
      deh yet and me nah work lmao but it better than nth. So Happy Valentine's Day ma! Really wah see how far we ago
      guh. Hope we talking stage work out and thing, nuh wah seh too much a save some fi when mah ask if you ready fi a
      relationship lol. Ly punk :) ❤️</p>
  </div>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const popup = document.getElementById('popup');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    class Heart {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.size = 30;
        this.speed = 2;
      }
      draw() {
        ctx.fillStyle = 'red';
        ctx.beginPath();
        ctx.arc(this.x - 10, this.y, this.size / 2, 0, Math.PI * 2);
        ctx.arc(this.x + 10, this.y, this.size / 2, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.moveTo(this.x - 20, this.y);
        ctx.lineTo(this.x, this.y + 20);
        ctx.lineTo(this.x + 20, this.y);
        ctx.fill();
      }
      update() {
        this.y += this.speed;
      }
    }

    class Arrow {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.speed = 5;
      }
      draw() {
        ctx.fillStyle = 'brown';
        ctx.fillRect(this.x, this.y, 5, 20);
      }
      update() {
        this.y -= this.speed;
      }
    }

    const hearts = [];
    const arrows = [];
    let score = 0;

    function spawnHeart() {
      const x = Math.random() * canvas.width;
      hearts.push(new Heart(x, 0));
    }

    function updateGame() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      hearts.forEach((heart, hIndex) => {
        heart.update();
        heart.draw();
        if (heart.y > canvas.height) {
          hearts.splice(hIndex, 1);
        }
      });

      arrows.forEach((arrow, aIndex) => {
        arrow.update();
        arrow.draw();
        hearts.forEach((heart, hIndex) => {
          if (
            arrow.y < heart.y + 20 &&
            arrow.x > heart.x - 20 &&
            arrow.x < heart.x + 20
          ) {
            hearts.splice(hIndex, 1);
            arrows.splice(aIndex, 1);
            score++;
            if (score >= 6) {
              popup.style.display = 'block';
            }
          }
        });
      });

      ctx.fillStyle = 'black';
      ctx.font = '20px Arial';
      ctx.fillText('Hearts Collected: ' + score, 10, 30);

      requestAnimationFrame(updateGame);
    }

    window.addEventListener('touchstart', (event) => {
      const touchX = event.touches[0].clientX;
      arrows.push(new Arrow(touchX - 2.5, canvas.height - 30));
    });

    setInterval(spawnHeart, 1000);
    updateGame();
  </script>
</body>

</html>
